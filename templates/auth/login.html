{% extends "base.html" %}

{% block title %}Login - Cash Flow Management{% endblock %}

{% block content %}
<form method="post" action="{{ url_for('auth.login', next=request.args.get('next')) }}">
  {{ form.csrf_token }}
  <!-- username -->
  {{ form.username.label }}
  {{ form.username(class='input') }}
  {% for e in form.username.errors %}<div class="error">{{ e }}</div>{% endfor %}

  <!-- password -->
  {{ form.password.label }}
  {{ form.password(class='input') }}
  {% for e in form.password.errors %}<div class="error">{{ e }}</div>{% endfor %}

  <!-- remember me -->
  {{ form.remember_me() }} {{ form.remember_me.label }}

  <button type="submit">Sign In</button>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% for category, message in messages %}
      <div class="flash {{ category }}">{{ message }}</div>
    {% endfor %}
  {% endwith %}
</form>
{% endblock %}
